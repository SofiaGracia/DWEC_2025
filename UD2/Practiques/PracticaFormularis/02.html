<!DOCTYPE html>
<html>

<head>
    <title>Ejemplo de Formulario</title>
    <style>
        /* Estil bàsic del formulari */
        form {
            display: flex;
            flex-direction: column;
            width: 300px;
        }

        input {
            margin-bottom: 10px;
            padding: 5px;
            border: 2px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
        }

        /* Camp vàlid */
        input:valid {
            border-color: green;
            background-color: #e6ffe6;
        }

        /* Camp no vàlid */
        input:invalid {
            border-color: red;
            background-color: #ffe6e6;
        }

        /* Botó */
        button {
            padding: 8px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }

        button:hover {
            background-color: #0056b3;
        }

        span {
            color: red;
        }
    </style>
</head>

<body>

    <h1>Formulario de Ejemplo</h1>

    <form action="/submit" method="post" id="myForm">

        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" pattern="^[A-Za-z]{3,}$" required><br>

        <label for="correo">Correo electrónico:</label>
        <input type="email" id="correo" name="correo" pattern="\S+@\S+\.\S+" required><br>

        <label for="contrasena">Contraseña:</label>
        <input type="password" id="contrasena" name="contrasena" minlength="8" required><br>

        <label for="fecha_nacimiento">Fecha de nacimiento:</label>
        <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" required><br>

        <label for="numero">Número de teléfono:</label>
        <input type="tel" id="numero" name="numero" pattern="^[0-9]{9}$" required><br>

        <label for="checkbox">Acepto los términos y condiciones:</label>
        <input type="checkbox" id="checkbox" name="aceptar_terminos" required><br>

        <label for="radio1">Opción 1:</label>
        <input type="radio" id="radio1" name="opcion" value="opcion1" required><br>

        <label for="radio2">Opción 2:</label>
        <input type="radio" id="radio2" name="opcion" value="opcion2" required><br>

        <label for="seleccion">Seleccione una opción:</label>
        <!-- Ací no faria falta posar required pq sempre hi ha una opció seleccionada -->
        <select id="seleccion" name="seleccion">
            <option value="opcion1">Opción 1</option>
            <option value="opcion2">Opción 2</option>
            <option value="opcion3">Opción 3</option>
        </select><br>

        <label for="area_texto">Comentarios:</label>
        <textarea id="area_texto" rows="4" name="comentarios" cols="50" pattern="^[A-Za-z]{3,}$"
            required></textarea><br>

        <input type="submit" value="Enviar" id="submitBtn">
    </form>
    <script>

        function validarSeleccio() {
            const casellesTemes = document.querySelectorAll('#checkbox1, #checkbox2, #checkbox3');
            var marcades = Array.from(casellesTemes).filter((c) => c.checked);
            if (marcades.length < 2) {
                alert('Has de marcar almenys dos temes')
            }
        }

        //Creem els checkbox per a l'apartat de temes (3 temes)
        const formulari = document.querySelector('form');

        const botoEnviar = document.querySelector('#submitBtn');
        botoEnviar.parentNode.removeChild(botoEnviar);

        for (i = 1; i < 4; i++) {

            const labelCB = document.createElement('label');
            labelCB.htmlFor = 'checkbox' + i;
            labelCB.innerText = 'Tema ' + i;

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = 'checkbox' + i;
            checkbox.classList.add('temes');
            checkbox.addEventListener('click', validarSeleccio);

            formulari.appendChild(labelCB);
            formulari.appendChild(checkbox);
        }

        formulari.appendChild(botoEnviar);

        // Afegir un esdeveniment de submit al formulari per prevenir l'enviament si no està vàlid
        document.getElementById('myForm').addEventListener('submit', function (event) {
            if (!document.getElementById('submitBtn').disabled) {
                alert('Formulari enviat amb èxit!');
            }
            event.preventDefault();
        });


    </script>

</body>

</html>